# Neural 6502/6507 Topology Map

```
╔══════════════════════════════════════════════════════════════════════════════════════════╗
║                            WIRED VOLTRON - Neural 6502/6507                              ║
║                              One forward() = One CPU Cycle                               ║
╚══════════════════════════════════════════════════════════════════════════════════════════╝

                                    ┌─────────────┐
                                    │   OPCODE    │
                                    │   [0-255]   │
                                    └──────┬──────┘
                                           │
                                           ▼
╔═══════════════════════════════════════════════════════════════════════════════════════════╗
║                                      INPUT STATE                                          ║
╠═══════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                           ║
║    ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐  ┌────────────┐  ┌─────────────────┐   ║
║    │   A    │  │   X    │  │   Y    │  │   SP   │  │     PC     │  │        P        │   ║
║    │ 8-bit  │  │ 8-bit  │  │ 8-bit  │  │ 8-bit  │  │   16-bit   │  │ N V - B D I Z C │   ║
║    └────┬───┘  └────┬───┘  └────┬───┘  └────┬───┘  └─────┬──────┘  └────────┬────────┘   ║
║         │           │           │           │            │                  │            ║
╚═════════╪═══════════╪═══════════╪═══════════╪════════════╪══════════════════╪════════════╝
          │           │           │           │            │                  │
          ▼           ▼           ▼           ▼            │                  ▼
    ┌───────────────────────────────────────────────┐      │     ┌──────────────────────┐
    │           SOROBAN ENCODER (Hardcoded)         │      │     │    BINARY PASSTHRU   │
    │                                               │      │     │                      │
    │   8-bit ──► [Low Nibble: 16-bit thermometer]  │      │     │   Flags pass as-is   │
    │             [High Nibble: 16-bit thermometer] │      │     │   for flag ops       │
    │                      = 32 bits total          │      │     │                      │
    └───────────────────────┬───────────────────────┘      │     └──────────┬───────────┘
                            │                              │                │
                            ▼                              │                │
╔═══════════════════════════════════════════════════════════════════════════════════════════╗
║                                    ROUTING GANGLION                                       ║
║                                   (Hardcoded LUT)                                         ║
╠═══════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                           ║
║   OPCODE ──►  ┌─────────────────────────────────────────────────────────────────────┐    ║
║               │                        ROUTER MAP [256]                              │    ║
║               │                                                                      │    ║
║               │   0x69,0x65,0x75... (ADC) ──────────────────────────► ALU           │    ║
║               │   0xE9,0xE5,0xF5... (SBC) ──────────────────────────► ALU           │    ║
║               │   0x0A,0x06,0x16... (ASL/LSR/ROL/ROR) ──────────────► SHIFT         │    ║
║               │   0x29,0x25,0x09... (AND/ORA/EOR) ──────────────────► LOGIC         │    ║
║               │   0xAA,0x8A,0xA8... (TAX/TXA/TAY/TYA) ──────────────► TRANSFER      │    ║
║               │   0x48,0x68,0x08... (PHA/PLA/PHP/PLP) ──────────────► STACK         │    ║
║               │   0x18,0x38,0x58... (CLC/SEC/CLI/SEI) ──────────────► FLAGS         │    ║
║               │   0xE8,0xCA,0xC8... (INX/DEX/INY/DEY) ──────────────► INCDEC        │    ║
║               │   0xA9,0xA5,0xA2... (LDA/LDX/LDY) ──────────────────► LOAD          │    ║
║               │   0x85,0x86,0x84... (STA/STX/STY) ──────────────────► STORE         │    ║
║               │   0x10,0x30,0x50... (BPL/BMI/BVC...) ───────────────► BRANCH        │    ║
║               │                                                                      │    ║
║               └─────────────────────────────────────────────────────────────────────┘    ║
║                                            │                                             ║
╚════════════════════════════════════════════╪═════════════════════════════════════════════╝
                                             │
                          ┌──────────────────┼──────────────────┐
                          │                  │                  │
                          ▼                  ▼                  ▼
╔═══════════════════════════════════════════════════════════════════════════════════════════╗
║                              SPECIALIST ORGANS (Frozen @ 100%)                            ║
╠═══════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                           ║
║  ┌─────────────────────────────────────────────────────────────────────────────────────┐  ║
║  │                              ALU CLUSTER (Soroban I/O)                              │  ║
║  │  ┌─────────────────────────────────────────────────────────────────────────────┐   │  ║
║  │  │                                                                             │   │  ║
║  │  │   ┌──────────────────┐   ┌──────────────────┐   ┌──────────────────┐       │   │  ║
║  │  │   │   ORGANELLE_A    │   │   ORGANELLE_C    │   │   ORGANELLE_V    │       │   │  ║
║  │  │   │   (Result)       │   │   (Carry)        │   │   (Overflow)     │       │   │  ║
║  │  │   │                  │   │                  │   │                  │       │   │  ║
║  │  │   │  Input: 65       │   │  Input: 65       │   │  Input: 65       │       │   │  ║
║  │  │   │  (A_sor+Op_sor+C)│   │  (A_sor+Op_sor+C)│   │  (A_sor+Op_sor+C)│       │   │  ║
║  │  │   │                  │   │                  │   │                  │       │   │  ║
║  │  │   │  ┌────────────┐  │   │  ┌────────────┐  │   │  ┌────────────┐  │       │   │  ║
║  │  │   │  │ 65→256→128 │  │   │  │ 65→128→64  │  │   │  │ 65→128→64  │  │       │   │  ║
║  │  │   │  │  →64→32    │  │   │  │    →1      │  │   │  │  →32→1     │  │       │   │  ║
║  │  │   │  └────────────┘  │   │  └────────────┘  │   │  └────────────┘  │       │   │  ║
║  │  │   │                  │   │                  │   │                  │       │   │  ║
║  │  │   │  Output: 32      │   │  Output: 1       │   │  Output: 1       │       │   │  ║
║  │  │   │  (Result_sor)    │   │  (C_out)         │   │  (V_out)         │       │   │  ║
║  │  │   │                  │   │                  │   │                  │       │   │  ║
║  │  │   │  60,128 params   │   │  12,000 params   │   │  18,000 params   │       │   │  ║
║  │  │   │  100% accurate   │   │  100% accurate   │   │  100% accurate   │       │   │  ║
║  │  │   └──────────────────┘   └──────────────────┘   └──────────────────┘       │   │  ║
║  │  │                                                                             │   │  ║
║  │  │   Z = (Result == 0)  ◄── Derived                                           │   │  ║
║  │  │   N = Result[7]      ◄── Derived                                           │   │  ║
║  │  │                                                                             │   │  ║
║  │  └─────────────────────────────────────────────────────────────────────────────┘   │  ║
║  └─────────────────────────────────────────────────────────────────────────────────────┘  ║
║                                                                                           ║
║  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐    ║
║  │    SHIFT     │ │   TRANSFER   │ │    STACK     │ │    FLAGS     │ │   INC/DEC    │    ║
║  │              │ │              │ │              │ │              │ │              │    ║
║  │ ASL,LSR,ROL  │ │ TAX,TXA,TAY  │ │ PHA,PLA,PHP  │ │ CLC,SEC,CLI  │ │ INX,DEX,INY  │    ║
║  │ ROR          │ │ TYA,TSX,TXS  │ │ PLP          │ │ SEI,CLV,CLD  │ │ DEY          │    ║
║  │              │ │              │ │              │ │ SED          │ │              │    ║
║  │ Binary I/O   │ │ Binary I/O   │ │ Binary I/O   │ │ Binary I/O   │ │ Binary I/O   │    ║
║  │ 8K params    │ │ 44K params   │ │ 71K params   │ │ 19K params   │ │ 67K params   │    ║
║  │ 100%         │ │ 100%         │ │ 100%         │ │ 100%         │ │ 100%         │    ║
║  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘    ║
║                                                                                           ║
║  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐                                      ║
║  │    LOGIC     │ │    LOAD      │ │    STORE     │    ┌──────────────┐                  ║
║  │              │ │              │ │              │    │   BRANCH     │                  ║
║  │ AND,ORA,EOR  │ │ LDA,LDX,LDY  │ │ STA,STX,STY  │    │              │                  ║
║  │ BIT,CMP,CPX  │ │              │ │              │    │ BPL,BMI,BVC  │                  ║
║  │ CPY          │ │ Memory→Reg   │ │ Reg→Memory   │    │ BVS,BCC,BCS  │                  ║
║  │              │ │              │ │              │    │ BNE,BEQ      │                  ║
║  │ [Pending]    │ │ [Pending]    │ │ [Pending]    │    │ [Pending]    │                  ║
║  └──────────────┘ └──────────────┘ └──────────────┘    └──────────────┘                  ║
║                                                                                           ║
╚═══════════════════════════════════════════════════════════════════════════════════════════╝
                                             │
                                             ▼
╔═══════════════════════════════════════════════════════════════════════════════════════════╗
║                                    OUTPUT COMBINER                                        ║
╠═══════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                           ║
║                      ┌─────────────────────────────────────┐                             ║
║                      │         MASKED SELECTION            │                             ║
║                      │                                     │                             ║
║                      │   output = Σ (mask_i × result_i)    │                             ║
║                      │                                     │                             ║
║                      │   Only active specialist writes     │                             ║
║                      │   Others masked to zero             │                             ║
║                      │                                     │                             ║
║                      └──────────────────┬──────────────────┘                             ║
║                                         │                                                ║
╚═════════════════════════════════════════╪════════════════════════════════════════════════╝
                                          │
                                          ▼
                            ┌─────────────────────────────┐
                            │     SOROBAN DECODER         │
                            │       (Hardcoded)           │
                            │                             │
                            │   32-bit therm → 8-bit val  │
                            │   low = sum(bits[0:16])     │
                            │   high = sum(bits[16:32])   │
                            │   byte = high*16 + low      │
                            └──────────────┬──────────────┘
                                           │
                                           ▼
╔═══════════════════════════════════════════════════════════════════════════════════════════╗
║                                      OUTPUT STATE                                         ║
╠═══════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                           ║
║    ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐  ┌────────────┐  ┌─────────────────┐   ║
║    │  A'    │  │  X'    │  │  Y'    │  │  SP'   │  │    PC'     │  │       P'        │   ║
║    │ 8-bit  │  │ 8-bit  │  │ 8-bit  │  │ 8-bit  │  │   16-bit   │  │ N V - B D I Z C │   ║
║    └────────┘  └────────┘  └────────┘  └────────┘  └────────────┘  └─────────────────┘   ║
║                                                                                           ║
╚═══════════════════════════════════════════════════════════════════════════════════════════╝


═══════════════════════════════════════════════════════════════════════════════════════════
                                    DATA FLOW LEGEND
═══════════════════════════════════════════════════════════════════════════════════════════

    ──────►   Binary data (8-bit)
    ══════►   Soroban data (32-bit thermometer)
    ······►   Control signal (opcode routing)

═══════════════════════════════════════════════════════════════════════════════════════════
                                   SOROBAN ENCODING
═══════════════════════════════════════════════════════════════════════════════════════════

    Example: Value = 127 (0x7F)

    Binary:     0  1  1  1  1  1  1  1
                ─────────────────────────
                        8 bits

    Soroban:    Low Nibble (15):  1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0
                High Nibble (7):  1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0
                ─────────────────────────────────────────────────
                                    32 bits

    Example: Value = 128 (0x80)

    Binary:     1  0  0  0  0  0  0  0    ← ALL bits different from 127!
                ─────────────────────────
                        8 bits

    Soroban:    Low Nibble (0):   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                High Nibble (8):  1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0
                ─────────────────────────────────────────────────
                                    32 bits
                                    ↑
                          Only 2 bits different from 127!
                          (Carry is VISIBLE as bead movement)

═══════════════════════════════════════════════════════════════════════════════════════════
                                  PERFORMANCE SPECS
═══════════════════════════════════════════════════════════════════════════════════════════

    Single Operation:           ~600 μs
    Batched (1K parallel):      150,000 ops/sec
    Batched (100K parallel):    347,000 ops/sec

    Total Parameters (ADC):     ~90,000
    Total Parameters (All):     ~310,000

    Accuracy:                   100.0000% (5M samples)

═══════════════════════════════════════════════════════════════════════════════════════════
                                    STATUS BOARD
═══════════════════════════════════════════════════════════════════════════════════════════

    [████████████] ALU (ADC)      100%  ✓ COMPLETE
    [████████████] SHIFT          100%  ✓ COMPLETE
    [████████████] TRANSFER       100%  ✓ COMPLETE
    [████████████] STACK          100%  ✓ COMPLETE
    [████████████] FLAGS          100%  ✓ COMPLETE
    [████████████] INC/DEC        100%  ✓ COMPLETE
    [░░░░░░░░░░░░] LOGIC            0%  ○ PENDING
    [░░░░░░░░░░░░] LOAD             0%  ○ PENDING
    [░░░░░░░░░░░░] STORE            0%  ○ PENDING
    [░░░░░░░░░░░░] BRANCH           0%  ○ PENDING
    [░░░░░░░░░░░░] SBC              0%  ○ PENDING

═══════════════════════════════════════════════════════════════════════════════════════════
```

## Compact Reference

```
                         WIRED VOLTRON - Compact View

                              ┌──────────┐
                              │  OPCODE  │
                              └────┬─────┘
                                   │
    ┌──────────────────────────────┼──────────────────────────────┐
    │                              ▼                              │
    │  ┌─────┐ ┌─────┐ ┌─────┐ ┌──────┐ ┌─────┐ ┌─────┐         │
    │  │  A  │ │  X  │ │  Y  │ │  SP  │ │ PC  │ │  P  │  INPUT  │
    │  └──┬──┘ └──┬──┘ └──┬──┘ └──┬───┘ └──┬──┘ └──┬──┘         │
    │     │       │       │       │        │       │             │
    │     ▼       ▼       ▼       ▼        │       ▼             │
    │  ┌────────────────────────────────┐  │  ┌─────────┐        │
    │  │      SOROBAN ENCODE            │  │  │ BINARY  │        │
    │  │      8-bit → 32-bit            │  │  │ PASSTHRU│        │
    │  └───────────────┬────────────────┘  │  └────┬────┘        │
    │                  │                   │       │             │
    │                  ▼                   │       │             │
    │  ┌────────────────────────────────────────────────────┐    │
    │  │                 ROUTER (LUT)                       │    │
    │  │   ADC→ALU  SHIFT→SHIFT  TAX→XFER  PHA→STACK  ...  │    │
    │  └────────────────────────┬───────────────────────────┘    │
    │                           │                                │
    │     ┌─────────────────────┼─────────────────────┐          │
    │     ▼         ▼           ▼           ▼         ▼          │
    │  ┌─────┐  ┌───────┐  ┌─────────┐  ┌───────┐  ┌─────┐      │
    │  │ ALU │  │ SHIFT │  │TRANSFER │  │ STACK │  │FLAGS│ ...  │
    │  │     │  │       │  │         │  │       │  │     │      │
    │  │ A+C │  │ROL/ROR│  │ TAX/TXA │  │PHA/PLA│  │CLC/ │      │
    │  │ →V  │  │ASL/LSR│  │ TAY/TYA │  │PHP/PLP│  │SEC  │      │
    │  └──┬──┘  └───┬───┘  └────┬────┘  └───┬───┘  └──┬──┘      │
    │     │         │           │           │         │          │
    │     └─────────┴─────┬─────┴───────────┴─────────┘          │
    │                     ▼                                      │
    │  ┌────────────────────────────────┐                        │
    │  │        OUTPUT COMBINER         │                        │
    │  │   (Masked selection by route)  │                        │
    │  └───────────────┬────────────────┘                        │
    │                  ▼                                         │
    │  ┌────────────────────────────────┐                        │
    │  │       SOROBAN DECODE           │                        │
    │  │       32-bit → 8-bit           │                        │
    │  └───────────────┬────────────────┘                        │
    │                  │                                         │
    │     ▼       ▼    │  ▼       ▼        ▼       ▼             │
    │  ┌─────┐ ┌─────┐ │┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐         │
    │  │ A'  │ │ X'  │ ││ Y'  │ │ SP' │ │ PC' │ │ P'  │ OUTPUT  │
    │  └─────┘ └─────┘ │└─────┘ └─────┘ └─────┘ └─────┘         │
    │                  │                                         │
    └──────────────────┼─────────────────────────────────────────┘
                       │
              ONE forward() = ONE cycle
```
